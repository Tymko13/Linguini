<div class="profile-container">
  <button class="save-button" (click)="saveChanges()">Save changes</button>

  <div class="avatar-section">
    <div class="profile-avatar-wrapper">
      <img *ngFor="let url of avatarService.avatar"
           [src]="url"
           class="profile-avatar"
           alt="Profile Avatar">
    </div>

    <div class="edit-name">
      <label>Change profile name:</label>
      <span *ngIf="!editingName" (click)="toggleEditName()">{{ username }}</span>
      <input *ngIf="editingName"
             [(ngModel)]="username"
             (blur)="toggleEditName()"
             type="text" />
    </div>

    <div class="edit-avatar">
      <label>Change avatar:</label>
      <div class="avatar-category-buttons">
        <button *ngFor="let part of parts"
                [class.active]="selectedPart === part.key"
                (click)="selectPart(part.key)">
          {{ part.label }}
        </button>
      </div>

      <div class="avatar-options">
        <ng-container *ngIf="options$ | async as options">
          <img *ngFor="let option of options"
               [src]="option"
               (click)="selectImage(option)"
               class="profile-avatar-option">
        </ng-container>
      </div>
    </div>
  </div>
</div>
